(this.webpackJsonpresty=this.webpackJsonpresty||[]).push([[0],{23:function(e,t,s){},40:function(e,t,s){},41:function(e,t,s){},42:function(e,t,s){},43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s(1),a=s.n(n),c=s(25),o=s.n(c),i=s(28),u=s(4),d=s(5),h=s(7),l=s(6),j=(s(23),s(12)),p=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(r.jsxs)("header",{children:[Object(r.jsx)("h1",{children:"RESTy"}),Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{className:"navList",children:Object(r.jsx)(j.b,{to:"/",children:"Home"})}),Object(r.jsx)("li",{className:"navList",children:Object(r.jsx)(j.b,{to:"/history",children:"History"})}),Object(r.jsx)("li",{className:"navList",children:Object(r.jsx)(j.b,{to:"/help",children:"Help"})})]})})]})}}]),s}(a.a.Component),b=s(21),O=s.n(b),f=s(22),x=s(27),v=(s(40),function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(u.a)(this,s),(r=t.call(this,e)).handleSubmit=function(e){e.preventDefault();var t=e.target.routeType.value;r.setState({routeType:t});var s=e.target.url.value;r.setState({url:s});var n=e.target.requestBody.value;r.setState({requestBody:n}),r.setState({display:!0}),r.getResults(t,s,n)},r.componentDidUpdate=function(e){if(!0===r.state.functionSwitch&&r.props.searchAgain[0]){var t=r.props.searchAgain[0],s=r.props.searchAgain[1],n=r.props.searchAgain[2];r.getResults(t,s,n),r.setState({functionSwitch:!1})}},r.getResults=Object(x.a)(O.a.mark((function e(){var t,s,n,a,c,o=arguments;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=o.length>0&&void 0!==o[0]?o[0]:"GET",s=o.length>1?o[1]:void 0,n=o.length>2&&void 0!==o[2]?o[2]:"",e.t0=t,e.next="GET"===e.t0?6:"POST"===e.t0?12:"PUT"===e.t0?19:"DELETE"===e.t0?21:22;break;case 6:return e.next=8,fetch(s,{method:"".concat(t),mode:"cors"}).then((function(e){if(200===e.status){var t,s={},n=Object(f.a)(e.headers.entries());try{for(n.s();!(t=n.n()).done;){var a=t.value;s[a[0]]=a[1]}}catch(c){n.e(c)}finally{n.f()}return r.props.giveAppHeaders(s),e.json()}}));case 8:return a=e.sent,r.props.provideResults(a.results),a.results&&(r.props.giveAppMethodUrl(t,s,n),console.log("@@@@@@@@method, url, requestBody ",t,s,n)),e.abrupt("break",22);case 12:return e.next=14,fetch(s,{method:"".concat(t),body:"".concat(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){if(200===e.status){var t,s={},n=Object(f.a)(e.headers.entries());try{for(n.s();!(t=n.n()).done;){var a=t.value;s[a[0]]=a[1]}}catch(c){n.e(c)}finally{n.f()}return r.props.giveAppHeaders(s),e.json()}}));case 14:return c=e.sent,console.log({postResponse:c}),r.props.provideResults(c),c&&(r.props.giveAppMethodUrl(t,s,n),console.log("*&*&*&*& method, url, requestBody",t,s,n)),e.abrupt("break",22);case 19:return console.log("In Switch PUT"),e.abrupt("break",22);case 21:console.log("In Switch DELETE");case 22:case"end":return e.stop()}}),e)}))),r.state={display:!1,functionSwitch:!0,method:"",requestBody:"",routeType:"No route type selected",url:"No URL provided"},r}return Object(d.a)(s,[{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("form",{onSubmit:this.handleSubmit,children:Object(r.jsxs)("fieldset",{children:[Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{id:"getRadio",type:"radio",name:"routeType",value:"GET"}),"GET"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{id:"postRadio",type:"radio",name:"routeType",value:"POST"}),"POST"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{id:"putRadio",type:"radio",name:"routeType",value:"PUT"}),"PUT"]}),Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{id:"deleteRadio",type:"radio",name:"routeType",value:"DELETE"}),"DELETE"]}),Object(r.jsxs)("section",{id:"buttonSection",children:[Object(r.jsxs)("label",{children:["URL:",Object(r.jsx)("input",{id:"urlInput",type:"text",name:"url"})]}),Object(r.jsxs)("label",{children:["Request Body:",Object(r.jsx)("textarea",{id:"requestBodyInput",rows:"5",cols:"30",name:"requestBody"})]}),Object(r.jsx)("button",{"data-testId":"submitButton",type:"submit",children:"Make it so."})]})]})}),this.state.display?Object(r.jsx)("div",{children:Object(r.jsxs)("section",{id:"outputSection",children:[this.state.routeType,": ",this.state.url]})}):""]})}}]),s}(a.a.Component)),y=(s(41),function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(r.jsx)("footer",{children:"\xa9 2021 SP"})}}]),s}(a.a.Component)),g=(s(42),s(16)),m=s.n(g),S=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return console.log("this.props results page ",this.props),Object(r.jsxs)("div",{id:"resultsDiv",children:[Object(r.jsxs)("section",{id:"headersSection",children:[Object(r.jsx)("h3",{children:"Response Headers"}),Object(r.jsx)(m.a,{src:this.props.headers})]}),Object(r.jsxs)("section",{id:"responseBodySection",children:[Object(r.jsx)("h3",{children:"Response Body"}),Object(r.jsx)(m.a,{src:this.props.results}),Object(r.jsxs)("p",{children:["Count: ",Object(r.jsx)("span",{"data-testid":"count",children:this.props.count})]})]})]})}}]),s}(a.a.Component),T=(s(43),function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(u.a)(this,s),(r=t.call(this,e)).reRunHandler=function(e){var t=e.target.name;console.log("INSIDE reRunHandler searchIdx ",t);var s=r.props.searches[t];console.log({chosenSearch:s}),r.setState({searchAgain:s}),r.props.giveAppPreviousSearch(s)},r.state={searchAgain:{}},r}return Object(d.a)(s,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{id:"historyDiv",children:[Object(r.jsx)("h3",{children:"Search History - Click button to search again"}),Object(r.jsx)("ul",{children:this.props.searches.map((function(t,s){return Object(r.jsxs)("button",{id:"previousSearchButton",type:"submit",name:s,onClick:e.reRunHandler,children:[t.method," ",t.url," ",t.requestBody]},s)}))})]})}}]),s}(a.a.Component)),E=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(){return Object(u.a)(this,s),t.apply(this,arguments)}return Object(d.a)(s,[{key:"render",value:function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h2",{children:"Help"}),Object(r.jsx)("p",{children:"GET: Enter the desired URL, append the record ID as a parameter if a single record is desired."}),Object(r.jsx)("p",{children:"POST: Enter the desired URL and the body of the request to be posted to a new record. The format of the body may be specified by the API being used."}),Object(r.jsx)("p",{children:"PUT: Enter the desired URL with the record ID appended as a parameter. Enter the body content to be updated. The format of the body will need to match that of the record attempting to be updated."}),Object(r.jsx)("p",{children:"DELETE: Enter the desired URL with the record ID appended as a parameter."}),Object(r.jsxs)("p",{children:["Test API routes and request body information can be found at",Object(r.jsx)("a",{href:"http://fakeapi.jsonparseronline.com/",children:"FakeApi"})]})]})}}]),s}(a.a.Component),R=(s(44),s(2)),k=function(e){Object(h.a)(s,e);var t=Object(l.a)(s);function s(e){var r;return Object(u.a)(this,s),(r=t.call(this,e)).collectHeaders=function(e){r.setState({headers:e})},r.updateResults=function(e){console.log("^^^^^^Inside Update Results ",e);var t=e.length,s=e;console.log("length of results ",t),r.setState({results:s}),r.setState({count:t})},r.collectHeaders=function(e){r.setState({headers:e})},r.storeUrlMethod=function(e,t,s){var n={method:e,url:t},a=0;r.state.searches.forEach((function(s){s[0]===e&&s[1]===t&&(a=1,console.log("duplicateCheck in forEach ",a))})),console.log("duplicateCheck after forEach ",a),1!==a&&r.setState({searches:[].concat(Object(i.a)(r.state.searches),[n])}),console.log("@storeURLMETHOD this.state.searches ",r.state.searches)},r.runPreviousSearch=function(e){r.setState({searchAgain:[e.method,e.url,e.requestBody]})},r.state={count:0,results:[],headers:[],searches:[],searchAgain:[]},r}return Object(d.a)(s,[{key:"render",value:function(){return Object(r.jsxs)(j.a,{children:[Object(r.jsx)(p,{}),Object(r.jsxs)(R.c,{children:[Object(r.jsxs)(R.a,{exact:!0,path:"/",children:[Object(r.jsx)(v,{provideResults:this.updateResults,giveAppHeaders:this.collectHeaders,giveAppMethodUrl:this.storeUrlMethod,searchAgain:this.state.searchAgain}),Object(r.jsx)(S,{headers:this.state.headers,results:this.state.results,count:this.state.count})]}),Object(r.jsx)(R.a,{exact:!0,path:"/history",children:Object(r.jsx)(T,{searches:this.state.searches,giveAppPreviousSearch:this.runPreviousSearch})}),Object(r.jsx)(R.a,{exact:!0,path:"/help",children:Object(r.jsx)(E,{})})]}),Object(r.jsx)(y,{})]})}}]),s}(a.a.Component);o.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(k,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.5b8288c2.chunk.js.map